<ng-container *contezzaLet="displayValue$ | async as displayValue">
    <mat-chip-list aria-orientation="horizontal" role="listbox" [attr.aria-label]="'SEARCH.FILTER.ARIA-LABEL.SEARCH_FILTER' | translate">
        <mat-chip
            disableRipple
            class="adf-search-filter-chip"
            [class.adf-search-toggle-chip]="menuTrigger.menuOpen"
            tabIndex="0"
            [matMenuTriggerFor]="menu"
            (keydown.enter)="onEnterKeydown()"
            [attr.title]="displayValue"
            #menuTrigger="matMenuTrigger"
        >
            <span class="adf-search-filter-ellipsis" *ngIf="field.label"> &nbsp; {{ field.label | translate }} </span>

            <span class="adf-search-filter-ellipsis" *ngIf="displayValue"> &nbsp; {{ displayValue | translate }} </span>
            <mat-icon>keyboard_arrow_down</mat-icon>
        </mat-chip>

        <mat-menu #menu="matMenu" backdropClass="adf-search-filter-chip-menu">
            <div #menuContainer [attr.data-automation-id]="'search-field-' + field.label">
                <div class="adf-search-filter-menu-card" (click)="$event.stopPropagation();">
                    <div class="adf-search-filter-content">
                        <div class="contezza-form-field contezza-date-range-form-field">
                            <div class="contezza-date-range-form-field-dates">
                                <contezza-date-field [field]="fromSubfield" [control]="fromSubcontrol"></contezza-date-field>
                                <contezza-date-field [field]="toSubfield" [control]="toSubcontrol"></contezza-date-field>
                            </div>
                        </div>
                    </div>

                    <mat-divider></mat-divider>

                    <div class="adf-search-filter-actions">
                        <button mat-flat-button class="adf-search-action-button" color="primary" (click)="onRemove()">
                            {{ 'SEARCH.FILTER.BUTTONS.REMOVE' | translate }}
                        </button>
                    </div>
                </div>
            </div>
        </mat-menu>
    </mat-chip-list>
</ng-container>
